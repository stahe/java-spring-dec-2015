
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Introduction au langage Java et à l'écosystème Spring au travers d'une étude de cas">
      
      
        <meta name="author" content="Serge Tahé">
      
      
        <link rel="canonical" href="https://stahe.github.io/java-spring-dec-2015/td-classes.html">
      
      
        <link rel="prev" href="td-le-probleme.html">
      
      
        <link rel="next" href="td-architectures-en-couches.html">
      
      
        
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>3. [TD] : Classes - Introduction au langage Java et à l'écosystème Spring au travers d'une étude de cas</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/focus.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3-td-classes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Introduction au langage Java et à l&#39;écosystème Spring au travers d&#39;une étude de cas" class="md-header__button md-logo" aria-label="Introduction au langage Java et à l'écosystème Spring au travers d'une étude de cas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Introduction au langage Java et à l'écosystème Spring au travers d'une étude de cas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3. [TD] : Classes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Passer au mode sombre"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passer au mode sombre" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Passer au mode clair"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passer au mode clair" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/stahe/java-spring-dec-2015" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Introduction au langage Java et à l&#39;écosystème Spring au travers d&#39;une étude de cas" class="md-nav__button md-logo" aria-label="Introduction au langage Java et à l'écosystème Spring au travers d'une étude de cas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Introduction au langage Java et à l'écosystème Spring au travers d'une étude de cas
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/stahe/java-spring-dec-2015" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accueil
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="introduction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1. Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-le-probleme.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2. [TD] : Le problème
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    3. [TD] : Classes
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="td-classes.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    3. [TD] : Classes
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1. Support
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-la-classe-listeelectorale" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2. La classe [ListeElectorale]
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-creation-dune-classe-dexception-electionsexception" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3. Création d'une classe d'exception [ElectionsException]
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-une-classe-de-test-unitaire" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4. Une classe de test unitaire
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-mainelections-version-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.5. MainElections : version 2
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-architectures-en-couches.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4. [TD] : Architectures en couches
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="cours-introduction-au-framework-spring.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5. [Cours] : Introduction au framework Spring
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="cours-introduction-a-lapi-jdbc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6. [Cours] : Introduction à l'API JDBC
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-implementation-de-la-couche-dao-du-td-avec-lapi-jdbc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7. [TD] : Implémentation de la couche [DAO] du TD avec l'API JDBC
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-la-couche-metier.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    8. [TD] : La couche [metier]
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-implementation-de-la-couche-ui-avec-un-programme-console.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    9. [TD] : Implémentation de la couche [ui] avec un programme console
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-implementation-de-la-couche-ui-avec-une-interface-swing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    10. [TD] : Implémentation de la couche [ui] avec une interface Swing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="cours-gestion-des-bases-de-donnees-relationnelles-avec-spring-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    11. [Cours] : Gestion des bases de données relationnelles avec Spring Data
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-implementation-de-la-couche-dao-du-td-avec-spring-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    12. [TD] : Implémentation de la couche [DAO] du TD avec [Spring Data]
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="cours-exposer-une-base-de-donnees-sur-le-web-avec-spring-mvc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    13. [Cours] : Exposer une base de données sur le web avec Spring MVC
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-exposition-sur-le-web-de-la-couche-metier.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    14. [TD] : Exposition sur le web de la couche [metier]
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-creation-dun-client-pour-le-service-web.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    15. [TD] : création d'un client pour le service web
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="cours-securiser-lacces-a-un-service-web-avec-spring-security.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    16. [Cours] : Sécuriser l'accès à un service web avec Spring Security
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-securisation-du-serveur-web--json-des-elections.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    17. [TD] : sécurisation du serveur web / jSON des élections
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="cours-gestion-des-acces-inter-domaines.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    18. [Cours] : Gestion des accès inter-domaines
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="td-elections-avec-des-requetes-inter-domaines.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    19. [TD] Elections avec des requêtes inter-domaines
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="programmation-asynchrone-avec-rxjava.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    20. Programmation asynchrone avec RxJava
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="conclusion.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    21. Conclusion
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="annexes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    22. Annexes
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="3-td-classes">3. [TD] : Classes</h1>
<p><strong>Mots clés</strong> : classe, interface, héritage, exception, polymorphisme</p>
<p><strong>Lectures conseillées</strong> :</p>
<ul>
<li>paragraphes 2.1, 2.2, 2.4 et 2.7 du chapitre 2 de [<a href="http://tahe.developpez.com/java/cours"><u>ref1</u></a>] : Classes et interfaces</li>
<li>paragraphes 3.3 (classe String), 3.5 (classe ArrayList), 3.6 (classe Arrays)</li>
</ul>
<p>Dans la partie 1 de l'exercice ELECTIONS aucune classe n'a été utilisée. On a construit une solution comme on l'aurait construite en langage C. Nous introduisons maintenant la notion de <strong>classe Java</strong>.</p>
<h2 id="31-support">3.1. Support</h2>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000000AE0000007E2A79D0D2.png" style="display:inline-block; margin:4px;width:3.221cm;height:2.33cm;" /></td><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000000ED000000894DDDE97D.png" style="display:inline-block; margin:4px;width:4.39cm;height:2.54cm;" /></td><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;">&nbsp;</td></tr></table>

<p>Le dossier [support / chap-03] contient le projet Eclipse de ce chapitre.</p>
<p>On travaillera désormais avec le JDK 1.8 car certains des projets à suivre nécessitent ce JDK. Pour connaître le JDK utilisé, procédez de la façon suivante :</p>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000004150000023CE56E0D75.png" style="display:inline-block; margin:4px;width:13.825cm;height:7.567cm;" /></td></tr></table>

<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000004B1000001207FC6F553.png" style="display:inline-block; margin:4px;width:15.889cm;height:3.81cm;" /></td></tr></table>

<ul>
<li>en [4], le JRE (Java Runtime Environment) utilisé. Ce JRE est en fait ici un JDK (Java Development Kit), ici [jdk1.8.0_60]. Si ce n'est pas un JDK ou si vous avez une version inférieure à 1.8, procédez comme suit [5-21] ;</li>
</ul>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/100000000000059F000002D0E9975998.png" style="display:inline-block; margin:4px;width:17.999cm;height:9.005cm;" /></td></tr></table>

<ul>
<li>en [8], le JRE utilisé actuellement par défaut par Eclipse ;</li>
<li>en [11], les différents JDK et JRE actuellement connus par Eclipse ;</li>
</ul>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/1000000000000572000002B85410D524.png" style="display:inline-block; margin:4px;width:17.999cm;height:8.985cm;" /></td></tr></table>

<ul>
<li>en [15], <strong>choisissez un JDK plutôt qu'un JRE</strong>. Ce document utilise des projets Maven qui ont besoin d'un JDK ;</li>
</ul>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000005B9000002EA31E098E1.png" style="display:inline-block; margin:4px;width:17.999cm;height:9.163cm;" /></td></tr></table>

<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/1000000000000572000001BD639EFE35.png" style="display:inline-block; margin:4px;width:17.999cm;height:5.745cm;" /></td></tr></table>

<ul>
<li>en [21], on a un JDK de version &gt;=1.8 ;</li>
<li>en [22-23], accédez aux facets (différentes vues d'un même projet Eclipse) du projet ;</li>
</ul>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000002B000000208E7A6D7F1.png" style="display:inline-block; margin:4px;width:9.102cm;height:6.879cm;" /></td></tr></table>

<ul>
<li>en [24], vérifiez que vous utilisez une version Java &gt;=1.8 ;</li>
</ul>
<h2 id="32-la-classe-listeelectorale">3.2. La classe [ListeElectorale]</h2>
<p>En langage C, nous aurions probablement utilisé une <strong>structure</strong> pour représenter une liste participant à l'élection. Elle aurait pu être de la forme suivante :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>struct t_liste
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>   {
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>     char nom[15];
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>     long voix;
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>     int  elimine;
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>     int sieges;
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>   };
</code></pre></div></td></tr></table></div>
<p>La notion de structure n'existe pas dans le langage Java. Il faut la remplacer par celle de <strong>classe</strong>. On décide donc de créer une classe pour mémoriser les informations sur une liste candidate. Celle-ci aurait le squelette suivant :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">  1</a></span>
<span class="normal"><a href="#__codelineno-1-2">  2</a></span>
<span class="normal"><a href="#__codelineno-1-3">  3</a></span>
<span class="normal"><a href="#__codelineno-1-4">  4</a></span>
<span class="normal"><a href="#__codelineno-1-5">  5</a></span>
<span class="normal"><a href="#__codelineno-1-6">  6</a></span>
<span class="normal"><a href="#__codelineno-1-7">  7</a></span>
<span class="normal"><a href="#__codelineno-1-8">  8</a></span>
<span class="normal"><a href="#__codelineno-1-9">  9</a></span>
<span class="normal"><a href="#__codelineno-1-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-1-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-1-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-1-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-1-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-1-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-1-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-1-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-1-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-1-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-1-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-1-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-1-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-1-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-1-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-1-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-1-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-1-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-1-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-1-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-1-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-1-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-1-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-1-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-1-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-1-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-1-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-1-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-1-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-1-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-1-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-1-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-1-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-1-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-1-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-1-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-1-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-1-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-1-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-1-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-1-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-1-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-1-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-1-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-1-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-1-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-1-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-1-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-1-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-1-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-1-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-1-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-1-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-1-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-1-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-1-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-1-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-1-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-1-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-1-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-1-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-1-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-1-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-1-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-1-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-1-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-1-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-1-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-1-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-1-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-1-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-1-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-1-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-1-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-1-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-1-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-1-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-1-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-1-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-1-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-1-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-1-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-1-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-1-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-1-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-1-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-1-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-1-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-1-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-1-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-1-100">100</a></span>
<span class="normal"><a href="#__codelineno-1-101">101</a></span>
<span class="normal"><a href="#__codelineno-1-102">102</a></span>
<span class="normal"><a href="#__codelineno-1-103">103</a></span>
<span class="normal"><a href="#__codelineno-1-104">104</a></span>
<span class="normal"><a href="#__codelineno-1-105">105</a></span>
<span class="normal"><a href="#__codelineno-1-106">106</a></span>
<span class="normal"><a href="#__codelineno-1-107">107</a></span>
<span class="normal"><a href="#__codelineno-1-108">108</a></span>
<span class="normal"><a href="#__codelineno-1-109">109</a></span>
<span class="normal"><a href="#__codelineno-1-110">110</a></span>
<span class="normal"><a href="#__codelineno-1-111">111</a></span>
<span class="normal"><a href="#__codelineno-1-112">112</a></span>
<span class="normal"><a href="#__codelineno-1-113">113</a></span>
<span class="normal"><a href="#__codelineno-1-114">114</a></span>
<span class="normal"><a href="#__codelineno-1-115">115</a></span>
<span class="normal"><a href="#__codelineno-1-116">116</a></span>
<span class="normal"><a href="#__codelineno-1-117">117</a></span>
<span class="normal"><a href="#__codelineno-1-118">118</a></span>
<span class="normal"><a href="#__codelineno-1-119">119</a></span>
<span class="normal"><a href="#__codelineno-1-120">120</a></span>
<span class="normal"><a href="#__codelineno-1-121">121</a></span>
<span class="normal"><a href="#__codelineno-1-122">122</a></span>
<span class="normal"><a href="#__codelineno-1-123">123</a></span>
<span class="normal"><a href="#__codelineno-1-124">124</a></span>
<span class="normal"><a href="#__codelineno-1-125">125</a></span>
<span class="normal"><a href="#__codelineno-1-126">126</a></span>
<span class="normal"><a href="#__codelineno-1-127">127</a></span>
<span class="normal"><a href="#__codelineno-1-128">128</a></span>
<span class="normal"><a href="#__codelineno-1-129">129</a></span>
<span class="normal"><a href="#__codelineno-1-130">130</a></span>
<span class="normal"><a href="#__codelineno-1-131">131</a></span>
<span class="normal"><a href="#__codelineno-1-132">132</a></span>
<span class="normal"><a href="#__codelineno-1-133">133</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>package istia.st.elections;
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>public class ListeElectorale {
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>    /**
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>     * identité de la liste
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>     */
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>    private int id;
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>    /**
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>     * nom de la liste
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>     */
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>    private String nom;
<a id="__codelineno-1-14" name="__codelineno-1-14"></a>    /**
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>     * nombre de voix de la liste
<a id="__codelineno-1-16" name="__codelineno-1-16"></a>     */
<a id="__codelineno-1-17" name="__codelineno-1-17"></a>    private int voix;
<a id="__codelineno-1-18" name="__codelineno-1-18"></a>    /**
<a id="__codelineno-1-19" name="__codelineno-1-19"></a>     * nombre de sièges de la liste
<a id="__codelineno-1-20" name="__codelineno-1-20"></a>     */
<a id="__codelineno-1-21" name="__codelineno-1-21"></a>    private int sieges;
<a id="__codelineno-1-22" name="__codelineno-1-22"></a>    /**
<a id="__codelineno-1-23" name="__codelineno-1-23"></a>     * indique si la liste est éliminée ou non
<a id="__codelineno-1-24" name="__codelineno-1-24"></a>     */
<a id="__codelineno-1-25" name="__codelineno-1-25"></a>    private boolean elimine;
<a id="__codelineno-1-26" name="__codelineno-1-26"></a>
<a id="__codelineno-1-27" name="__codelineno-1-27"></a>    /**
<a id="__codelineno-1-28" name="__codelineno-1-28"></a>     * constructeur par défaut
<a id="__codelineno-1-29" name="__codelineno-1-29"></a>     */
<a id="__codelineno-1-30" name="__codelineno-1-30"></a>    public ListeElectorale() {
<a id="__codelineno-1-31" name="__codelineno-1-31"></a>    }
<a id="__codelineno-1-32" name="__codelineno-1-32"></a>
<a id="__codelineno-1-33" name="__codelineno-1-33"></a>    /**
<a id="__codelineno-1-34" name="__codelineno-1-34"></a>     *
<a id="__codelineno-1-35" name="__codelineno-1-35"></a>     * @param nom String : le nom de la liste
<a id="__codelineno-1-36" name="__codelineno-1-36"></a>     * @param voix int : son nombre de voix
<a id="__codelineno-1-37" name="__codelineno-1-37"></a>     * @param sieges int : son nombre de sieges
<a id="__codelineno-1-38" name="__codelineno-1-38"></a>     * @param elimine boolean : son état éliminé ou non
<a id="__codelineno-1-39" name="__codelineno-1-39"></a>     */
<a id="__codelineno-1-40" name="__codelineno-1-40"></a>    public ListeElectorale(int id,String nom, int voix, int sieges, boolean elimine) {
<a id="__codelineno-1-41" name="__codelineno-1-41"></a>...
<a id="__codelineno-1-42" name="__codelineno-1-42"></a>    }
<a id="__codelineno-1-43" name="__codelineno-1-43"></a>
<a id="__codelineno-1-44" name="__codelineno-1-44"></a>    /**
<a id="__codelineno-1-45" name="__codelineno-1-45"></a>     *
<a id="__codelineno-1-46" name="__codelineno-1-46"></a>     * @return int : l&#39;identifiant de la liste
<a id="__codelineno-1-47" name="__codelineno-1-47"></a>     */
<a id="__codelineno-1-48" name="__codelineno-1-48"></a>    public int getId() {
<a id="__codelineno-1-49" name="__codelineno-1-49"></a>...
<a id="__codelineno-1-50" name="__codelineno-1-50"></a>    }
<a id="__codelineno-1-51" name="__codelineno-1-51"></a>
<a id="__codelineno-1-52" name="__codelineno-1-52"></a>    /**
<a id="__codelineno-1-53" name="__codelineno-1-53"></a>     * initialise l&#39;identifiant de liste
<a id="__codelineno-1-54" name="__codelineno-1-54"></a>     * @param id int : identifiant de la liste
<a id="__codelineno-1-55" name="__codelineno-1-55"></a>     * @throws ElectionsException si id&lt;1
<a id="__codelineno-1-56" name="__codelineno-1-56"></a>     */
<a id="__codelineno-1-57" name="__codelineno-1-57"></a>    public void setId(int id) {
<a id="__codelineno-1-58" name="__codelineno-1-58"></a>...
<a id="__codelineno-1-59" name="__codelineno-1-59"></a>    }
<a id="__codelineno-1-60" name="__codelineno-1-60"></a>
<a id="__codelineno-1-61" name="__codelineno-1-61"></a>    /**
<a id="__codelineno-1-62" name="__codelineno-1-62"></a>     *
<a id="__codelineno-1-63" name="__codelineno-1-63"></a>     * @return String : le nom de la liste
<a id="__codelineno-1-64" name="__codelineno-1-64"></a>     */
<a id="__codelineno-1-65" name="__codelineno-1-65"></a>    public String getNom() {
<a id="__codelineno-1-66" name="__codelineno-1-66"></a>...
<a id="__codelineno-1-67" name="__codelineno-1-67"></a>    }
<a id="__codelineno-1-68" name="__codelineno-1-68"></a>
<a id="__codelineno-1-69" name="__codelineno-1-69"></a>    /**
<a id="__codelineno-1-70" name="__codelineno-1-70"></a>     * initialise le nom de la liste
<a id="__codelineno-1-71" name="__codelineno-1-71"></a>     * @param nom String : nom de la liste
<a id="__codelineno-1-72" name="__codelineno-1-72"></a>     *  @throws ElectionsException si le nom est vide ou blanc
<a id="__codelineno-1-73" name="__codelineno-1-73"></a>     */
<a id="__codelineno-1-74" name="__codelineno-1-74"></a>    public void setNom(String nom) {
<a id="__codelineno-1-75" name="__codelineno-1-75"></a>...
<a id="__codelineno-1-76" name="__codelineno-1-76"></a>    }
<a id="__codelineno-1-77" name="__codelineno-1-77"></a>
<a id="__codelineno-1-78" name="__codelineno-1-78"></a>    /**
<a id="__codelineno-1-79" name="__codelineno-1-79"></a>     *
<a id="__codelineno-1-80" name="__codelineno-1-80"></a>     * @return int : le nombre de voix de la liste
<a id="__codelineno-1-81" name="__codelineno-1-81"></a>     */
<a id="__codelineno-1-82" name="__codelineno-1-82"></a>    public int getVoix() {
<a id="__codelineno-1-83" name="__codelineno-1-83"></a> ...
<a id="__codelineno-1-84" name="__codelineno-1-84"></a>    }
<a id="__codelineno-1-85" name="__codelineno-1-85"></a>
<a id="__codelineno-1-86" name="__codelineno-1-86"></a>    /**
<a id="__codelineno-1-87" name="__codelineno-1-87"></a>     * initialise le nombre de voix de la liste
<a id="__codelineno-1-88" name="__codelineno-1-88"></a>     * @param voix int : le nombre de voix de la liste
<a id="__codelineno-1-89" name="__codelineno-1-89"></a>     */
<a id="__codelineno-1-90" name="__codelineno-1-90"></a>    public void setVoix(int voix) {
<a id="__codelineno-1-91" name="__codelineno-1-91"></a> ...
<a id="__codelineno-1-92" name="__codelineno-1-92"></a>    }
<a id="__codelineno-1-93" name="__codelineno-1-93"></a>
<a id="__codelineno-1-94" name="__codelineno-1-94"></a>    /**
<a id="__codelineno-1-95" name="__codelineno-1-95"></a>     *
<a id="__codelineno-1-96" name="__codelineno-1-96"></a>     * @return int : le nombre de sièges de la liste
<a id="__codelineno-1-97" name="__codelineno-1-97"></a>     */
<a id="__codelineno-1-98" name="__codelineno-1-98"></a>    public int getSieges() {
<a id="__codelineno-1-99" name="__codelineno-1-99"></a> ...
<a id="__codelineno-1-100" name="__codelineno-1-100"></a>    }
<a id="__codelineno-1-101" name="__codelineno-1-101"></a>
<a id="__codelineno-1-102" name="__codelineno-1-102"></a>    /**
<a id="__codelineno-1-103" name="__codelineno-1-103"></a>     * fixe le nombre de sièges de la liste
<a id="__codelineno-1-104" name="__codelineno-1-104"></a>     * @param sieges int : le nombre de sièges de la liste
<a id="__codelineno-1-105" name="__codelineno-1-105"></a>     */
<a id="__codelineno-1-106" name="__codelineno-1-106"></a>    public void setSieges(int sieges) {
<a id="__codelineno-1-107" name="__codelineno-1-107"></a>...
<a id="__codelineno-1-108" name="__codelineno-1-108"></a>    }
<a id="__codelineno-1-109" name="__codelineno-1-109"></a>
<a id="__codelineno-1-110" name="__codelineno-1-110"></a>    /**
<a id="__codelineno-1-111" name="__codelineno-1-111"></a>     *
<a id="__codelineno-1-112" name="__codelineno-1-112"></a>     * @return boolean : valeur du champ elimine
<a id="__codelineno-1-113" name="__codelineno-1-113"></a>     */
<a id="__codelineno-1-114" name="__codelineno-1-114"></a>    public boolean isElimine() {
<a id="__codelineno-1-115" name="__codelineno-1-115"></a>  ...
<a id="__codelineno-1-116" name="__codelineno-1-116"></a>    }
<a id="__codelineno-1-117" name="__codelineno-1-117"></a>
<a id="__codelineno-1-118" name="__codelineno-1-118"></a>    /**
<a id="__codelineno-1-119" name="__codelineno-1-119"></a>     *
<a id="__codelineno-1-120" name="__codelineno-1-120"></a>     * @param sieges int
<a id="__codelineno-1-121" name="__codelineno-1-121"></a>     */
<a id="__codelineno-1-122" name="__codelineno-1-122"></a>    public void setElimine(boolean elimine) {
<a id="__codelineno-1-123" name="__codelineno-1-123"></a> ...
<a id="__codelineno-1-124" name="__codelineno-1-124"></a>    }
<a id="__codelineno-1-125" name="__codelineno-1-125"></a>
<a id="__codelineno-1-126" name="__codelineno-1-126"></a>    /**
<a id="__codelineno-1-127" name="__codelineno-1-127"></a>     *
<a id="__codelineno-1-128" name="__codelineno-1-128"></a>     * @return String : identité de la liste électorale
<a id="__codelineno-1-129" name="__codelineno-1-129"></a>     */
<a id="__codelineno-1-130" name="__codelineno-1-130"></a>    public String toString() {
<a id="__codelineno-1-131" name="__codelineno-1-131"></a>   ...
<a id="__codelineno-1-132" name="__codelineno-1-132"></a>    }
<a id="__codelineno-1-133" name="__codelineno-1-133"></a>}
</code></pre></div></td></tr></table></div>
<ul>
<li>ligne 8 : n° identifiant une liste de façon unique. N'est pas indispensable ici mais est prévu pour une utilisation future.</li>
<li>ligne 13 : le nom de la liste.</li>
<li>ligne 17 : le nombre de voix de la liste</li>
<li>ligne 21 : le nombre de sièges de la liste</li>
<li>ligne 25 : booléen indiquant si la liste est éliminée (pourcentage de voix obtenues au-dessous du seuil électoral) ou non.</li>
</ul>
<p>Chaque champ privé nommé [xyz] peut être initialisé par une méthode nommée [set<strong>X</strong>yz]. La méthode [get<strong>X</strong>yz] permet elle d'obtenir la valeur du champ privé [xyz]. Dans le cas particulier où [xyz] est un champ de type booléen, la méthode [get<strong>X</strong>yz] peut être remplacée par la méthode [is<strong>X</strong>yz]. Le nommage particulier de ces méthodes obéit à une norme de codage appelée norme <strong>JavaBean</strong>. Ainsi nous définissons les méthodes publiques suivantes :</p>
<ul>
<li>getId (ligne 48), setId (ligne 57)</li>
<li>getNom (ligne 65), setNom (ligne 74)</li>
<li>getVoix (ligne 82), setVoix (ligne 90)</li>
<li>getSieges (ligne 98), setSieges (ligne 106)</li>
<li>isElimine (ligne 114), setElimine (ligne 122)</li>
<li>lignes 30-31 : définissent un constructeur sans paramètres. Celui-ci permet de créer un objet [ListeElectorale] sans l'initialiser. Celui-ci peut ensuite être initialisé grâce aux méthodes <strong>set</strong>.</li>
<li>lignes 40-42 : définissent un constructeur permettant de créer un objet [ListeElectorale]  tout en initialisant ses cinq champs privés.</li>
<li>ligne 130-132 : définissent la méthode [toString] qui rend une chaîne de caractères donnant les valeurs des cinq champs de l'objet.</li>
</ul>
<p>Un programme de test de la classe <strong>ListeElectorale</strong> pourrait être le suivant :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span>
<span class="normal"><a href="#__codelineno-2-18">18</a></span>
<span class="normal"><a href="#__codelineno-2-19">19</a></span>
<span class="normal"><a href="#__codelineno-2-20">20</a></span>
<span class="normal"><a href="#__codelineno-2-21">21</a></span>
<span class="normal"><a href="#__codelineno-2-22">22</a></span>
<span class="normal"><a href="#__codelineno-2-23">23</a></span>
<span class="normal"><a href="#__codelineno-2-24">24</a></span>
<span class="normal"><a href="#__codelineno-2-25">25</a></span>
<span class="normal"><a href="#__codelineno-2-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">istia.st.elections.tests</span><span class="p">;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">istia.st.elections.ListeElectorale</span><span class="p">;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainTest1ListeElectorale</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">        </span><span class="c1">// création d&#39;une liste électorale</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">        </span><span class="n">ListeElectorale</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ListeElectorale</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32000</span><span class="p">,</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">                </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">        </span><span class="c1">// affichage identité liste</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale1=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="p">);</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">        </span><span class="c1">// modification du nombre de sièges</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="w">        </span><span class="n">listeElectorale1</span><span class="p">.</span><span class="na">setSieges</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="w">        </span><span class="c1">// affichage identité liste 1</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale1=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="p">);</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="w">        </span><span class="c1">// une nouvelle liste électorale</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="w">        </span><span class="n">ListeElectorale</span><span class="w"> </span><span class="n">listeElectorale2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="p">;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="w">        </span><span class="c1">// affichage identité liste 2</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale2=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale2</span><span class="p">);</span>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="w">        </span><span class="c1">// modification du nombre de sièges</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="w">        </span><span class="n">listeElectorale2</span><span class="p">.</span><span class="na">setSieges</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-2-22" name="__codelineno-2-22"></a><span class="w">        </span><span class="c1">// affichage identité des 2 listes</span>
<a id="__codelineno-2-23" name="__codelineno-2-23"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale2=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale2</span><span class="p">);</span>
<a id="__codelineno-2-24" name="__codelineno-2-24"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale1=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="p">);</span>
<a id="__codelineno-2-25" name="__codelineno-2-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-26" name="__codelineno-2-26"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>L'environnement Eclipse de ce test pourrait être le suivant :</p>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000002E20000016F883805FD.png" style="display:inline-block; margin:4px;width:6.83cm;height:3.401cm;" /></td></tr></table>

<ul>
<li>[1] : le projet s'appelle [elections-02A]</li>
<li>[2] : l'application sera placée dans un paquetage, ici [istia.st.elections]</li>
<li>[3] : [ListeElectorale.java] est le code source de la classe [ListeElectorale]</li>
<li>[4] : les classes de test seront placées dans un paquetage, ici [istia.st.elections.tests]</li>
<li>[5] : la classe de test [MainTest1ListeElectorale]</li>
</ul>
<p>L'affichage écran obtenu après exécution du programme ci-dessus est le suivant :</p>
<p><img src="images/1000000000000153000000893AA31019.png" style="width:5.78cm;height:2.32cm;" alt="Image" /></p>
<p><strong>Travail à faire</strong> : en vous aidant de ce qui précède, complétez le code de la classe <strong>ListeElectorale</strong>.</p>
<h2 id="33-creation-dune-classe-dexception-electionsexception">3.3. Création d'une classe d'exception [ElectionsException]</h2>
<p>Parmi les différentes classes d'exception du langage Java, il en est une appelée [RuntimeException]. Cette classe dérive de la classe [Exception], racine de toutes les classes d'exception. La particularité des instances de [RuntimeException] ou instances dérivées est que l'on n'est pas obligé de les déclarer ou de les gérer. On les appelle des <strong>exceptions non contrôlées</strong>.</p>
<p>Prenons un premier exemple. La classe [BufferedReader] est une classe dont les instances permettent de lire des lignes de texte dans un flux de données. Elle possède une méthode [readLine] dont la signature est la suivante :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>public String readLine()throws IOException
</code></pre></div></td></tr></table></div>
<p>On voit que la méthode peut lancer une exception de type [IOException]. L'arborescence de cette classe est la suivante :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>java.lang.Object
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>  java.lang.Throwable
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>      java.lang.Exception
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>          java.io.IOException
</code></pre></div></td></tr></table></div>
<p>La classe [IOException] dérive de la classe [Exception] (ligne 3). Le compilateur nous force à gérer et à déclarer les exceptions de type [java.lang.Exception] ou dérivé (sauf pour la branche [RuntimeException] que nous allons présenter plus loin). Ainsi, pour lire une ligne de texte tapée au clavier, on sera obligé d'écrire quelque chose comme :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span>
<span class="normal"><a href="#__codelineno-5-6">6</a></span>
<span class="normal"><a href="#__codelineno-5-7">7</a></span>
<span class="normal"><a href="#__codelineno-5-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>BufferedReader clavier=....;
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>String ligne=null;
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>try{
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>    ligne=clavier.readLine();
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>}catch (IOException ex){
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>    // gérer l&#39;exception
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>    ....
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>}
</code></pre></div></td></tr></table></div>
<p>Prenons un autre exemple. Pour transformer une chaîne en entier on peut utiliser la méthode statique [Integer.parseInt] dont la signature est la suivante :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>public static int parseInt(String s) throws NumberFormatException
</code></pre></div></td></tr></table></div>
<p>L'argument [s] est la chaîne de caractères à transformer en entier. On voit que la méthode peut lancer une exception de type [NumberFormatException]. L'arborescence de cette classe est la suivante :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span>
<span class="normal"><a href="#__codelineno-7-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>java.lang.Object
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>  java.lang.Throwable
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>      java.lang.Exception
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>          java.lang.RuntimeException
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>              java.lang.IllegalArgumentException
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>                  java.lang.NumberFormatException
</code></pre></div></td></tr></table></div>
<p>La classe [NumberFormatException] dérive de la classe [RuntimeException] (ligne 4). Le compilateur ne nous force pas à gérer et à déclarer les exceptions de type [java.lang.RuntimeException] ou dérivé. Ainsi, on pourra écrire quelque chose comme :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span>
<span class="normal"><a href="#__codelineno-8-6">6</a></span>
<span class="normal"><a href="#__codelineno-8-7">7</a></span>
<span class="normal"><a href="#__codelineno-8-8">8</a></span>
<span class="normal"><a href="#__codelineno-8-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>BufferedReader clavier=....;
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>String ligne=null;
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>try{
<a id="__codelineno-8-4" name="__codelineno-8-4"></a>    ligne=clavier.readLine();
<a id="__codelineno-8-5" name="__codelineno-8-5"></a>}catch (IOException ex){
<a id="__codelineno-8-6" name="__codelineno-8-6"></a>    // gérer l&#39;exception
<a id="__codelineno-8-7" name="__codelineno-8-7"></a>    ....
<a id="__codelineno-8-8" name="__codelineno-8-8"></a>}
<a id="__codelineno-8-9" name="__codelineno-8-9"></a>int age=Integer.parseInt(ligne);
</code></pre></div></td></tr></table></div>
<p>Nous ne sommes pas obligés de mettre une clause [try - catch] pour gérer l'éventuelle exception générée par [Integer.parseInt] (ligne 9).</p>
<p>Il y a des avantages et inconvénients à créer et utiliser des classes d'exception dérivées de [RuntimeException] :</p>
<ul>
<li>au chapitre des avantages : le code est plus léger</li>
<li>au chapitre des inconvénients : on peut être ramené aux méthodes du C où chaque fonction rend un code d'erreur que peu de gens utilisent, justement pour avoir un code plus léger. Lorsqu'une telle erreur non gérée se produit, le programme plante, généralement de façon peu élégante.</li>
</ul>
<p>Nous décidons de créer une classe spéciale regroupant toutes les exceptions pouvant survenir dans notre application ELECTIONS. Elle s'appellera [ElectionsException] et dérivera de la classe [RuntimeException]. Son code est le suivant :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span>
<span class="normal"><a href="#__codelineno-9-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>package istia.st.elections;
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>public class ElectionsException extends RuntimeException {
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>    private static final long serialVersionUID = 1L;
<a id="__codelineno-9-5" name="__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a>    public ElectionsException() {
<a id="__codelineno-9-7" name="__codelineno-9-7"></a>        super();
<a id="__codelineno-9-8" name="__codelineno-9-8"></a>    }
<a id="__codelineno-9-9" name="__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a>    public ElectionsException(String message) {
<a id="__codelineno-9-11" name="__codelineno-9-11"></a>        super(message);
<a id="__codelineno-9-12" name="__codelineno-9-12"></a>    }
<a id="__codelineno-9-13" name="__codelineno-9-13"></a>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a>    public ElectionsException(Throwable cause) {
<a id="__codelineno-9-15" name="__codelineno-9-15"></a>        super(cause);
<a id="__codelineno-9-16" name="__codelineno-9-16"></a>    }
<a id="__codelineno-9-17" name="__codelineno-9-17"></a>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a>    public ElectionsException(String message, Throwable cause) {
<a id="__codelineno-9-19" name="__codelineno-9-19"></a>        super(message, cause);
<a id="__codelineno-9-20" name="__codelineno-9-20"></a>    }
<a id="__codelineno-9-21" name="__codelineno-9-21"></a>}
</code></pre></div></td></tr></table></div>
<ul>
<li>ligne 1 : nous plaçons la classe dans le paquetage [istia.st.elections] ;</li>
<li>ligne 3 : la classe dérive de [RuntimeException]. Elle est donc <strong>non contrôlée</strong> ;</li>
<li>ligne 4 : un identifiant de sérialisation qu'on peut ignorer pour le moment ;</li>
<li>nous utiliserons dans notre application deux sortes de constructeur :</li>
<li>celui classique des lignes 15-17 comme ci-dessous :</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a>throw new ElectionsException(&quot;Le nombre de sièges doit être &gt;0&quot;)
</code></pre></div></td></tr></table></div>
<p>Dans ce cas, la méthode qui appelle une méthode lançant une telle exception peut la gérer comme suit :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span>
<span class="normal"><a href="#__codelineno-11-6">6</a></span>
<span class="normal"><a href="#__codelineno-11-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>        // test exception
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>        try {
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>            listeElectorale2.setSieges(-3);
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>        } catch (ElectionsException ex) {
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>            System.err.println(&quot;L&#39;exception suivante s&#39;est produite : [&quot;
<a id="__codelineno-11-6" name="__codelineno-11-6"></a>                    + ex.toString() + &quot;]&quot;);
<a id="__codelineno-11-7" name="__codelineno-11-7"></a>        }
</code></pre></div></td></tr></table></div>
<ul>
<li>ou celui des lignes 14-20 destiné à faire remonter une exception déjà survenue, en l'encapsulant dans une exception de type [ElectionsException] :</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span>
<span class="normal"><a href="#__codelineno-12-5">5</a></span>
<span class="normal"><a href="#__codelineno-12-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a>    try {
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>        ...;
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>        } catch (SQLException ex) {
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>            // on encapsule l&#39;exception
<a id="__codelineno-12-5" name="__codelineno-12-5"></a>            throw new ElectionsException(&quot;erreur de fermeture de la connexion à la BD&quot;,ex);
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>        }
</code></pre></div></td></tr></table></div>
<p>Cette seconde méthode a l'avantage de conserver l'information que peut contenir la première exception. Dans ce cas, la méthode qui appelle une méthode lançant une telle exception peut la gérer comme suit :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span>
<span class="normal"><a href="#__codelineno-13-5">5</a></span>
<span class="normal"><a href="#__codelineno-13-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">            </span><span class="p">...;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ElectionsException</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, Cause : &quot;</span><span class="o">+</span><span class="w"> </span><span class="n">ex</span><span class="p">.</span><span class="na">getCause</span><span class="p">().</span><span class="na">getMessage</span><span class="p">());</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">        </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>Travail à faire</strong> : reprenez le code de la classe <strong>ListeElectorale</strong> de façon à ce que les méthodes <strong>set</strong> lancent une exception de type [ElectionsException] si l'initialisation demandée est incorrecte, comme par exemple initialiser le nom avec une chaîne vide.</p>
<p>Le projet Eclipse de test de cette nouvelle version pourrait être le suivant :</p>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000002DE000001891C512EB6.png" style="display:inline-block; margin:4px;width:6.8cm;height:3.641cm;" /></td></tr></table>

<ul>
<li>[1] : le projet s'appelle [elections-02B]</li>
<li>[2] : l'application est placée dans un paquetage, ici [istia.st.elections]</li>
<li>[3] : les classes [ListeElectorale] et [ElectionsException]</li>
<li>[4] : les classes de test sont placées dans un paquetage, ici [istia.st.elections.tests]</li>
<li>[5] : la classe de test [MainTest1ListeElectorale]</li>
</ul>
<p>La classe de test [MainTest1ListeElectorale] déjà étudiée est légèrement modifiée pour tester les cas d'exception :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span>
<span class="normal"><a href="#__codelineno-14-26">26</a></span>
<span class="normal"><a href="#__codelineno-14-27">27</a></span>
<span class="normal"><a href="#__codelineno-14-28">28</a></span>
<span class="normal"><a href="#__codelineno-14-29">29</a></span>
<span class="normal"><a href="#__codelineno-14-30">30</a></span>
<span class="normal"><a href="#__codelineno-14-31">31</a></span>
<span class="normal"><a href="#__codelineno-14-32">32</a></span>
<span class="normal"><a href="#__codelineno-14-33">33</a></span>
<span class="normal"><a href="#__codelineno-14-34">34</a></span>
<span class="normal"><a href="#__codelineno-14-35">35</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">istia.st.elections.tests</span><span class="p">;</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">istia.st.elections.ElectionsException</span><span class="p">;</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">istia.st.elections.ListeElectorale</span><span class="p">;</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainTest1ListeElectorale</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">        </span><span class="c1">// création d&#39;une liste électorale</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="w">        </span><span class="n">ListeElectorale</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ListeElectorale</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32000</span><span class="p">,</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">                </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="w">        </span><span class="c1">// affichage identité liste</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale1=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="p">);</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">        </span><span class="c1">// modification du nombre de sièges</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">        </span><span class="n">listeElectorale1</span><span class="p">.</span><span class="na">setSieges</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="w">        </span><span class="c1">// affichage identité liste 1</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale1=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="p">);</span>
<a id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="w">        </span><span class="c1">// une nouvelle liste électorale</span>
<a id="__codelineno-14-18" name="__codelineno-14-18"></a><span class="w">        </span><span class="n">ListeElectorale</span><span class="w"> </span><span class="n">listeElectorale2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="p">;</span>
<a id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="w">        </span><span class="c1">// affichage identité liste 2</span>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale2=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale2</span><span class="p">);</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="w">        </span><span class="c1">// modification du nombre de sièges</span>
<a id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="w">        </span><span class="n">listeElectorale2</span><span class="p">.</span><span class="na">setSieges</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="w">        </span><span class="c1">// affichage identité des 2 listes</span>
<a id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale2=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale2</span><span class="p">);</span>
<a id="__codelineno-14-25" name="__codelineno-14-25"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;listeElectorale1=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">listeElectorale1</span><span class="p">);</span>
<a id="__codelineno-14-26" name="__codelineno-14-26"></a><span class="w">        </span><span class="c1">// test exception</span>
<a id="__codelineno-14-27" name="__codelineno-14-27"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-28" name="__codelineno-14-28"></a><span class="w">            </span><span class="n">listeElectorale2</span><span class="p">.</span><span class="na">setSieges</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-14-29" name="__codelineno-14-29"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ElectionsException</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-30" name="__codelineno-14-30"></a><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;L&#39;exception suivante s&#39;est produite : [&quot;</span>
<a id="__codelineno-14-31" name="__codelineno-14-31"></a><span class="w">                    </span><span class="o">+</span><span class="w"> </span><span class="n">ex</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;]&quot;</span><span class="p">);</span>
<a id="__codelineno-14-32" name="__codelineno-14-32"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-14-33" name="__codelineno-14-33"></a>
<a id="__codelineno-14-34" name="__codelineno-14-34"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-35" name="__codelineno-14-35"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>ligne 28 : on essaie d'initialiser le nombre de sièges avec une valeur interdite</li>
<li>ligne 30 : s'il y a exception, elle est affichée</li>
</ul>
<p>L'exécution du test donne les résultats suivants :</p>
<p><img src="images/10000000000003990000009D8D7FAF3A.png" style="width:17.06cm;height:2.91cm;" alt="Image" /></p>
<p>On remarque que la classe [ListeElectorale] a bien généré une exception lorsqu'on a voulu initialiser le nombre de sièges avec une valeur invalide (ligne 28 du code).</p>
<h2 id="34-une-classe-de-test-unitaire">3.4. Une classe de test unitaire</h2>
<p>Le type de test précédent repose sur une vérification visuelle. On vérifie qu'on obtient à l'écran ce qui est attendu. C'est une méthode à déconseiller en milieu professionnel. Les tests doivent toujours être automatisés au maximum et viser à ne nécessiter aucune intervention humaine. L'être humain est en effet sujet à la fatigue et sa capacité à vérifier des tests s'émousse au fil de la journée.</p>
<p>Une application évolue au fil du temps. A chaque évolution, on doit vérifier que l'application ne "régresse" pas, c.a.d. qu'elle continue à passer les tests de bon fonctionnement qui avaient été faits lors de son écriture initiale. On appelle ces tests, des tests de "non régression". Une application un peu importante peut nécessiter des centaines de tests. On teste en effet chaque méthode de chaque classe de l'application. On appelle cela des <strong>tests unitaires</strong>. Ceux-ci peuvent mobiliser beaucoup de développeurs s'ils n'ont pas été automatisés.</p>
<p>Des outils ont été développés pour automatiser les tests. L'un d'eux s'appelle [JUnit]. C'est une bibliothèque de classes destinées à gérer les tests. Nous allons utiliser cet outil pour tester la classe [ListeElectorale].</p>
<p>Un programme de test JUnit (versions 4.x) a la forme suivante :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-15-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-15-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-15-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-15-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-15-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-15-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-15-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-15-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-15-10">10</a></span>
<span class="normal"><a href="#__codelineno-15-11">11</a></span>
<span class="normal"><a href="#__codelineno-15-12">12</a></span>
<span class="normal"><a href="#__codelineno-15-13">13</a></span>
<span class="normal"><a href="#__codelineno-15-14">14</a></span>
<span class="normal"><a href="#__codelineno-15-15">15</a></span>
<span class="normal"><a href="#__codelineno-15-16">16</a></span>
<span class="normal"><a href="#__codelineno-15-17">17</a></span>
<span class="normal"><a href="#__codelineno-15-18">18</a></span>
<span class="normal"><a href="#__codelineno-15-19">19</a></span>
<span class="normal"><a href="#__codelineno-15-20">20</a></span>
<span class="normal"><a href="#__codelineno-15-21">21</a></span>
<span class="normal"><a href="#__codelineno-15-22">22</a></span>
<span class="normal"><a href="#__codelineno-15-23">23</a></span>
<span class="normal"><a href="#__codelineno-15-24">24</a></span>
<span class="normal"><a href="#__codelineno-15-25">25</a></span>
<span class="normal"><a href="#__codelineno-15-26">26</a></span>
<span class="normal"><a href="#__codelineno-15-27">27</a></span>
<span class="normal"><a href="#__codelineno-15-28">28</a></span>
<span class="normal"><a href="#__codelineno-15-29">29</a></span>
<span class="normal"><a href="#__codelineno-15-30">30</a></span>
<span class="normal"><a href="#__codelineno-15-31">31</a></span>
<span class="normal"><a href="#__codelineno-15-32">32</a></span>
<span class="normal"><a href="#__codelineno-15-33">33</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">istia.st.elections.tests</span><span class="p">;</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Assert</span><span class="p">;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.After</span><span class="p">;</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Before</span><span class="p">;</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Test</span><span class="p">;</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JUnitEssai</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-10" name="__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11"></a><span class="w">    </span><span class="nd">@Before</span>
<a id="__codelineno-15-12" name="__codelineno-15-12"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">avant</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-13" name="__codelineno-15-13"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;tearUp&quot;</span><span class="p">);</span>
<a id="__codelineno-15-14" name="__codelineno-15-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-15" name="__codelineno-15-15"></a>
<a id="__codelineno-15-16" name="__codelineno-15-16"></a><span class="w">    </span><span class="nd">@After</span>
<a id="__codelineno-15-17" name="__codelineno-15-17"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">après</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-18" name="__codelineno-15-18"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;tearDown&quot;</span><span class="p">);</span>
<a id="__codelineno-15-19" name="__codelineno-15-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-20" name="__codelineno-15-20"></a>
<a id="__codelineno-15-21" name="__codelineno-15-21"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-15-22" name="__codelineno-15-22"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">t1</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-23" name="__codelineno-15-23"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;test1&quot;</span><span class="p">);</span>
<a id="__codelineno-15-24" name="__codelineno-15-24"></a><span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-15-25" name="__codelineno-15-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-26" name="__codelineno-15-26"></a>
<a id="__codelineno-15-27" name="__codelineno-15-27"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-15-28" name="__codelineno-15-28"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">t2</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-29" name="__codelineno-15-29"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;test2&quot;</span><span class="p">);</span>
<a id="__codelineno-15-30" name="__codelineno-15-30"></a><span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-15-31" name="__codelineno-15-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-32" name="__codelineno-15-32"></a>
<a id="__codelineno-15-33" name="__codelineno-15-33"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>ligne 1 : la classe a été placée dans le paquetage [istia.st.elections.tests] ;</li>
<li>ligne 11 : la méthode annotée par l'annotation [@<strong>Before</strong>] est exécutée <strong>avant</strong> chaque test unitaire ; </li>
<li>ligne 16 : la méthode annotée par l'annotation [@<strong>After</strong>] est exécutée <strong>après</strong> chaque test unitaire ;</li>
<li>ligne 21 : une méthode annotée par l'annotation [@<strong>Test</strong>] est une méthode testée par le test unitaire. Le méthodes annotées par [@Test] seront exécutées les unes après les autres, sauf indication contraire du testeur qui peut sélectionner lui-même les méthodes à tester. Avant chaque exécution d'une méthode [@Test], la méthode [@Before] est exécutée.  Après chaque exécution d'une méthode [@Test], la méthode [@After] est exécutée ;</li>
<li>lignes 22-25 : définissent une méthode [t1] de test ;</li>
<li>ligne 18 : l'une des méthodes [<strong>Assert.assert</strong>*] qui permet de vérifier des assertions. On trouve les méthodes [assert] suivantes :</li>
<li><strong>assertEquals(expression1, expression2)</strong> : vérifie que les valeurs des deux expressions sont égales. De nombreux types d'expression sont acceptés (int, String, float, double, boolean, char, short). Si les deux expressions ne sont pas égales, alors une exception de type [AssertionFailedError ] est lancée,</li>
<li><strong>assertEquals(réel1, réel2, delta)</strong> : vérifie que deux réels sont égaux à <strong>delta</strong> près, c.a.d abs(réel1-réel2)&lt;=delta. On pourra écrire par exemple <strong>assertEquals(réel1, réel2, 1E-6)</strong> pour vérifier que deux valeurs sont égales à 10-6 près,</li>
<li><strong>assertEquals(message, expression1, expression2)</strong> et <strong>assertEquals(message, réel1, réel2, delta)</strong> sont des variantes permettant de préciser le message d'erreur à associer à l'exception  de type [AssertionFailedError] lancée lorsque la méthode [assertEquals] échoue,</li>
<li><strong>assertNotNull(Object)</strong> et <strong>assertNotNull(message, Object) </strong>: vérifie que <strong>Object</strong> n'est pas égal à <strong>null,</strong></li>
<li><strong>assertNull(Object)</strong> et <strong>assertNull(message, Object) </strong>: vérifie que <strong>Object</strong> est égal à <strong>null,</strong></li>
<li><strong>assertSame(Object1, Object2)</strong> et <strong>assertSame(message, Object1, Object2)</strong> : vérifie que les références <strong>Object1</strong> et <strong>Object2</strong> pointent sur le même objet,</li>
<li><strong>assertNotSame(Object1, Object2)</strong> et <strong>assertNotSame(message, Object1, Object2)</strong> : vérifie que les références <strong>Object1</strong> et <strong>Object2</strong> ne pointent pas sur le même objet ;</li>
<li>ligne 24 : cette assertion doit réussir ;</li>
<li>ligne 30 : cette assertion doit échouer ;</li>
</ul>
<p>Dans l'environnement Eclipse, la création d'une classe de test JUnit peut se faire de la façon suivante :</p>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000004FD0000037B88E88961.png" style="display:inline-block; margin:4px;width:11.83cm;height:8.25cm;" /></td></tr></table>

<ul>
<li>[1] : clic droit sur le paquetage dans lequel on veut ajouter la classe de test , puis option [JUnit / New / JUnit Test Case]</li>
</ul>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000004F90000033A032509E4.png" style="display:inline-block; margin:4px;width:16.842cm;height:10.927cm;" /></td></tr></table>

<ul>
<li>[1] : choix d'une version JUnit ;</li>
<li>[2] : choix du dossier dans lequel la classe de test doit être créée ;</li>
<li>[3] : choix du paquetage dans lequel la classe de test doit être créée ;</li>
<li>[4] : nom de la classe de test ;</li>
<li>[5] : choix des méthodes à inclure dans la classe qui va être générée ;</li>
<li>[6] : la classe JUnitEssai a été générée</li>
</ul>
<p>L'assistant précédent génère une classe quasiment vide :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span>
<span class="normal"><a href="#__codelineno-16-15">15</a></span>
<span class="normal"><a href="#__codelineno-16-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="n">package</span> <span class="n">istia</span><span class="o">.</span><span class="n">st</span><span class="o">.</span><span class="n">elections</span><span class="o">.</span><span class="n">tests</span><span class="p">;</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Assert</span><span class="p">;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.After</span><span class="p">;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Before</span><span class="p">;</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="n">public</span> <span class="k">class</span><span class="w"> </span><span class="nc">JUnitEssai</span> <span class="p">{</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a>    <span class="nd">@Before</span>
<a id="__codelineno-16-10" name="__codelineno-16-10"></a>    <span class="n">public</span> <span class="n">void</span> <span class="n">setUp</span><span class="p">()</span> <span class="n">throws</span> <span class="ne">Exception</span> <span class="p">{</span>        
<a id="__codelineno-16-11" name="__codelineno-16-11"></a>    <span class="p">}</span>
<a id="__codelineno-16-12" name="__codelineno-16-12"></a>
<a id="__codelineno-16-13" name="__codelineno-16-13"></a>    <span class="nd">@After</span>
<a id="__codelineno-16-14" name="__codelineno-16-14"></a>    <span class="n">public</span> <span class="n">void</span> <span class="n">tearDown</span><span class="p">()</span> <span class="n">throws</span> <span class="ne">Exception</span> <span class="p">{</span>
<a id="__codelineno-16-15" name="__codelineno-16-15"></a>    <span class="p">}</span>
<a id="__codelineno-16-16" name="__codelineno-16-16"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Complétons et modifions le code précédent de la façon suivante :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span>
<span class="normal"><a href="#__codelineno-17-18">18</a></span>
<span class="normal"><a href="#__codelineno-17-19">19</a></span>
<span class="normal"><a href="#__codelineno-17-20">20</a></span>
<span class="normal"><a href="#__codelineno-17-21">21</a></span>
<span class="normal"><a href="#__codelineno-17-22">22</a></span>
<span class="normal"><a href="#__codelineno-17-23">23</a></span>
<span class="normal"><a href="#__codelineno-17-24">24</a></span>
<span class="normal"><a href="#__codelineno-17-25">25</a></span>
<span class="normal"><a href="#__codelineno-17-26">26</a></span>
<span class="normal"><a href="#__codelineno-17-27">27</a></span>
<span class="normal"><a href="#__codelineno-17-28">28</a></span>
<span class="normal"><a href="#__codelineno-17-29">29</a></span>
<span class="normal"><a href="#__codelineno-17-30">30</a></span>
<span class="normal"><a href="#__codelineno-17-31">31</a></span>
<span class="normal"><a href="#__codelineno-17-32">32</a></span>
<span class="normal"><a href="#__codelineno-17-33">33</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">istia.st.elections.tests</span><span class="p">;</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Assert</span><span class="p">;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.After</span><span class="p">;</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Before</span><span class="p">;</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Test</span><span class="p">;</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JUnitEssai2</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="w">    </span><span class="nd">@Before</span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">avant</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;tearUp&quot;</span><span class="p">);</span>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-15" name="__codelineno-17-15"></a>
<a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="w">    </span><span class="nd">@After</span>
<a id="__codelineno-17-17" name="__codelineno-17-17"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">après</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-18" name="__codelineno-17-18"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;tearDown&quot;</span><span class="p">);</span>
<a id="__codelineno-17-19" name="__codelineno-17-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-20" name="__codelineno-17-20"></a>
<a id="__codelineno-17-21" name="__codelineno-17-21"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-17-22" name="__codelineno-17-22"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">t1</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-23" name="__codelineno-17-23"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;test1&quot;</span><span class="p">);</span>
<a id="__codelineno-17-24" name="__codelineno-17-24"></a><span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-17-25" name="__codelineno-17-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-26" name="__codelineno-17-26"></a>
<a id="__codelineno-17-27" name="__codelineno-17-27"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-17-28" name="__codelineno-17-28"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">t2</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-29" name="__codelineno-17-29"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;test2&quot;</span><span class="p">);</span>
<a id="__codelineno-17-30" name="__codelineno-17-30"></a><span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-17-31" name="__codelineno-17-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-32" name="__codelineno-17-32"></a>
<a id="__codelineno-17-33" name="__codelineno-17-33"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Sous Eclipse, un clic droit sur la classe de test, puis option [Run as / JUnit test], permet de l'exécuter :</p>
<p><img src="images/10000000000002C00000023086FCFE78.png" style="width:11.18cm;height:8.89cm;" alt="Image" /></p>
<p>Les résultats obtenus à l'exécution de ce test sont les suivants :</p>
<p><img src="images/10000000000001710000011C1DE344A2.png" style="width:6.83cm;height:5.26cm;" alt="Image" /></p>
<p>Ci-dessus la méthode [test2] a échoué. A chaque fois qu'un test échoue, un message d'erreur lui est associé. Pour [test2], c'est celui affiché ci-dessus. Le message indique le n° de la ligne où l'erreur s'est produite (ligne 30). Ligne 30, l'appel qui a échoué était :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a>    Assert.assertEquals(1, 2);
</code></pre></div></td></tr></table></div>
<p>Le premier paramètre est appelé la valeur attendue, le second la valeur réelle. Le message d'erreur de [test2] ci-dessus indique que la valeur attendue était 2 mais que la valeur réelle a été 3.</p>
<p>Enfin, les messages écrits sur la console par les différentes méthodes de test ont été les suivants :</p>
<p><img src="images/100000000000012100000099C3174063.png" style="width:4.33cm;height:2.91cm;" alt="Image" /></p>
<p>Ces messages montrent que les méthodes [@Before] et [@After] ont bien été appelées respectivement, avant et après chaque méthode de test.</p>
<p>Les classes de test ne sont pas nécessairement écrites par les développeurs eux-mêmes. Elles peuvent l'être par les personnes qui ont écrit les spécifications de l'application. Certaines méthodes de développement dites TDD (Test Driven Development) préconisent l'écriture des classes de tests avant même l'écriture des classes à tester. Cela permet parfois de clarifier des spécifications qui pourraient sinon être interprétées de plusieurs façons.</p>
<p>Créons un test JUnit 4, appelé [JUnitTest1ListeElectorale], pour la classe [ListeElectorale]. Sous Eclipse, on procédera comme décrit précédemment :</p>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000001C6000001AB22F05F4D.png" style="display:inline-block; margin:4px;width:8.41cm;height:7.909cm;" /></td><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000000FA000000DEA23A34D9.png" style="display:inline-block; margin:4px;width:4.63cm;height:4.11cm;" /></td></tr></table>

<p>Nous complétons le code généré par l'assistant de la façon suivante :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span>
<span class="normal"><a href="#__codelineno-19-15">15</a></span>
<span class="normal"><a href="#__codelineno-19-16">16</a></span>
<span class="normal"><a href="#__codelineno-19-17">17</a></span>
<span class="normal"><a href="#__codelineno-19-18">18</a></span>
<span class="normal"><a href="#__codelineno-19-19">19</a></span>
<span class="normal"><a href="#__codelineno-19-20">20</a></span>
<span class="normal"><a href="#__codelineno-19-21">21</a></span>
<span class="normal"><a href="#__codelineno-19-22">22</a></span>
<span class="normal"><a href="#__codelineno-19-23">23</a></span>
<span class="normal"><a href="#__codelineno-19-24">24</a></span>
<span class="normal"><a href="#__codelineno-19-25">25</a></span>
<span class="normal"><a href="#__codelineno-19-26">26</a></span>
<span class="normal"><a href="#__codelineno-19-27">27</a></span>
<span class="normal"><a href="#__codelineno-19-28">28</a></span>
<span class="normal"><a href="#__codelineno-19-29">29</a></span>
<span class="normal"><a href="#__codelineno-19-30">30</a></span>
<span class="normal"><a href="#__codelineno-19-31">31</a></span>
<span class="normal"><a href="#__codelineno-19-32">32</a></span>
<span class="normal"><a href="#__codelineno-19-33">33</a></span>
<span class="normal"><a href="#__codelineno-19-34">34</a></span>
<span class="normal"><a href="#__codelineno-19-35">35</a></span>
<span class="normal"><a href="#__codelineno-19-36">36</a></span>
<span class="normal"><a href="#__codelineno-19-37">37</a></span>
<span class="normal"><a href="#__codelineno-19-38">38</a></span>
<span class="normal"><a href="#__codelineno-19-39">39</a></span>
<span class="normal"><a href="#__codelineno-19-40">40</a></span>
<span class="normal"><a href="#__codelineno-19-41">41</a></span>
<span class="normal"><a href="#__codelineno-19-42">42</a></span>
<span class="normal"><a href="#__codelineno-19-43">43</a></span>
<span class="normal"><a href="#__codelineno-19-44">44</a></span>
<span class="normal"><a href="#__codelineno-19-45">45</a></span>
<span class="normal"><a href="#__codelineno-19-46">46</a></span>
<span class="normal"><a href="#__codelineno-19-47">47</a></span>
<span class="normal"><a href="#__codelineno-19-48">48</a></span>
<span class="normal"><a href="#__codelineno-19-49">49</a></span>
<span class="normal"><a href="#__codelineno-19-50">50</a></span>
<span class="normal"><a href="#__codelineno-19-51">51</a></span>
<span class="normal"><a href="#__codelineno-19-52">52</a></span>
<span class="normal"><a href="#__codelineno-19-53">53</a></span>
<span class="normal"><a href="#__codelineno-19-54">54</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="n">package</span> <span class="n">istia</span><span class="o">.</span><span class="n">st</span><span class="o">.</span><span class="n">elections</span><span class="o">.</span><span class="n">tests</span><span class="p">;</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Assert</span><span class="p">;</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">istia.st.elections.ElectionsException</span><span class="p">;</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">istia.st.elections.ListeElectorale</span><span class="p">;</span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Test</span><span class="p">;</span>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="n">public</span> <span class="k">class</span><span class="w"> </span><span class="nc">JUnitTest1ListeElectorale</span> <span class="p">{</span>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a>
<a id="__codelineno-19-11" name="__codelineno-19-11"></a>    <span class="nd">@Test</span>
<a id="__codelineno-19-12" name="__codelineno-19-12"></a>    <span class="n">public</span> <span class="n">void</span> <span class="n">t1</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-19-13" name="__codelineno-19-13"></a>        <span class="o">//</span> <span class="n">création</span> <span class="n">liste</span> <span class="n">électorale</span>
<a id="__codelineno-19-14" name="__codelineno-19-14"></a>        <span class="n">ListeElectorale</span> <span class="n">liste</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ListeElectorale</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">32000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">false</span><span class="p">);</span>
<a id="__codelineno-19-15" name="__codelineno-19-15"></a>        <span class="o">//</span> <span class="n">vérifications</span>
<a id="__codelineno-19-16" name="__codelineno-19-16"></a>        <span class="n">Assert</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">liste</span><span class="o">.</span><span class="n">getNom</span><span class="p">());</span>
<a id="__codelineno-19-17" name="__codelineno-19-17"></a>        <span class="n">Assert</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">32000</span><span class="p">,</span> <span class="n">liste</span><span class="o">.</span><span class="n">getVoix</span><span class="p">());</span>
<a id="__codelineno-19-18" name="__codelineno-19-18"></a>        <span class="n">Assert</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">false</span><span class="p">,</span> <span class="n">liste</span><span class="o">.</span><span class="n">isElimine</span><span class="p">());</span>
<a id="__codelineno-19-19" name="__codelineno-19-19"></a>        <span class="n">Assert</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">liste</span><span class="o">.</span><span class="n">getSieges</span><span class="p">());</span>
<a id="__codelineno-19-20" name="__codelineno-19-20"></a>        <span class="o">//</span> <span class="n">vérification</span> <span class="n">validité</span> <span class="nb">id</span>
<a id="__codelineno-19-21" name="__codelineno-19-21"></a>        <span class="n">boolean</span> <span class="n">erreur</span> <span class="o">=</span> <span class="n">false</span><span class="p">;</span>
<a id="__codelineno-19-22" name="__codelineno-19-22"></a>        <span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-19-23" name="__codelineno-19-23"></a>            <span class="n">liste</span><span class="o">.</span><span class="n">setId</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-19-24" name="__codelineno-19-24"></a>        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">ElectionsException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-25" name="__codelineno-19-25"></a>            <span class="n">erreur</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
<a id="__codelineno-19-26" name="__codelineno-19-26"></a>        <span class="p">}</span>
<a id="__codelineno-19-27" name="__codelineno-19-27"></a>        <span class="n">Assert</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="n">erreur</span><span class="p">);</span>
<a id="__codelineno-19-28" name="__codelineno-19-28"></a>        <span class="o">//</span> <span class="n">vérification</span> <span class="n">validité</span> <span class="n">nom</span>
<a id="__codelineno-19-29" name="__codelineno-19-29"></a>        <span class="n">erreur</span> <span class="o">=</span> <span class="n">false</span><span class="p">;</span>
<a id="__codelineno-19-30" name="__codelineno-19-30"></a>        <span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-19-31" name="__codelineno-19-31"></a>            <span class="n">liste</span><span class="o">.</span><span class="n">setNom</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
<a id="__codelineno-19-32" name="__codelineno-19-32"></a>        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">ElectionsException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-33" name="__codelineno-19-33"></a>            <span class="n">erreur</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
<a id="__codelineno-19-34" name="__codelineno-19-34"></a>        <span class="p">}</span>
<a id="__codelineno-19-35" name="__codelineno-19-35"></a>        <span class="n">Assert</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="n">erreur</span><span class="p">);</span>
<a id="__codelineno-19-36" name="__codelineno-19-36"></a>        <span class="o">//</span> <span class="n">vérification</span> <span class="n">validité</span> <span class="n">voix</span>
<a id="__codelineno-19-37" name="__codelineno-19-37"></a>        <span class="n">erreur</span> <span class="o">=</span> <span class="n">false</span><span class="p">;</span>
<a id="__codelineno-19-38" name="__codelineno-19-38"></a>        <span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-19-39" name="__codelineno-19-39"></a>            <span class="n">liste</span><span class="o">.</span><span class="n">setVoix</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-19-40" name="__codelineno-19-40"></a>        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">ElectionsException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-41" name="__codelineno-19-41"></a>            <span class="n">erreur</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
<a id="__codelineno-19-42" name="__codelineno-19-42"></a>        <span class="p">}</span>
<a id="__codelineno-19-43" name="__codelineno-19-43"></a>        <span class="n">Assert</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="n">erreur</span><span class="p">);</span>
<a id="__codelineno-19-44" name="__codelineno-19-44"></a>        <span class="o">//</span> <span class="n">vérification</span> <span class="n">validité</span> <span class="n">sièges</span>
<a id="__codelineno-19-45" name="__codelineno-19-45"></a>        <span class="n">erreur</span> <span class="o">=</span> <span class="n">false</span><span class="p">;</span>
<a id="__codelineno-19-46" name="__codelineno-19-46"></a>        <span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-19-47" name="__codelineno-19-47"></a>            <span class="n">liste</span><span class="o">.</span><span class="n">setSieges</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-19-48" name="__codelineno-19-48"></a>        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">ElectionsException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-19-49" name="__codelineno-19-49"></a>            <span class="n">erreur</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
<a id="__codelineno-19-50" name="__codelineno-19-50"></a>        <span class="p">}</span>
<a id="__codelineno-19-51" name="__codelineno-19-51"></a>        <span class="n">Assert</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="n">erreur</span><span class="p">);</span>
<a id="__codelineno-19-52" name="__codelineno-19-52"></a>    <span class="p">}</span>
<a id="__codelineno-19-53" name="__codelineno-19-53"></a>
<a id="__codelineno-19-54" name="__codelineno-19-54"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>L'exécution du test donne le résultat suivant :</p>
<p><img src="images/1000000000000173000000C0D6037593.png" style="width:6.87cm;height:3.56cm;" alt="Image" /></p>
<p>Les tests sont réussis. Nous considèrerons désormais que nous avons une classe [ListeElectorale] opérationnelle.</p>
<h2 id="35-mainelections-version-2">3.5. MainElections : version 2</h2>
<p><strong>Lectures conseillées</strong> :</p>
<ul>
<li>paragraphes 2.1, 2.2, 2.4 et 2.7 du chapitre 2 de [1] : Classes et interfaces</li>
<li>paragraphes 3.3 (classe String), 3.5 (classe ArrayList), 3.6 (classe Arrays)</li>
</ul>
<p>On désire réécrire l'application [Elections] en y ajoutant les nouvelles contraintes suivantes :</p>
<ul>
<li>on utilisera la classe [ListeElectorale] pour représenter une liste candidate</li>
<li>l'application demandera au clavier les informations suivantes :</li>
<li>le nombre de sièges à pourvoir</li>
<li>les noms et voix des listes. On ne sait pas à priori combien il y a de listes. La dernière liste sera signalée par un nom égal à la chaîne "*".</li>
<li>parce qu'on ne connaît  pas à priori le nombre de listes, celles-ci seront tout d'abord mémorisées dans un objet de type [ArrayList]. Puis, lorsque toutes les listes auront été saisies, elles seront transférées dans un tableau de listes.</li>
<li>les résultats seront affichés par ordre décroissant du nombre de sièges obtenus.</li>
</ul>
<p>Pour trier un tableau T, on dispose de différentes méthodes statiques de la classe [Arrays] :</p>
<ul>
<li><strong>Arrays.sort(T)</strong> : trie le tableau T selon un ordre naturel s'il en a un (croissant pour les nombres, les dates, alphabétique pour les chaînes, ...)</li>
<li><strong>Arrays.sort(T,comparateur)</strong> : pour trier des tableaux T n'ayant pas un ordre naturel. C'est le cas ici du tableau des listes qu'il faut trier selon un champ particulier de la liste : le nombre de sièges obtenus.</li>
</ul>
<p>Dans la méthode <strong>Arrays.sort(T,comparateur)</strong>, le paramètre <strong>comparateur</strong> est un objet implémentant l'interface <strong>Comparator</strong> suivante :</p>
<p><img src="images/10000000000002110000009A0EFC1F82.png" style="width:9.8cm;height:2.85cm;" alt="Image" /></p>
<ul>
<li>la méthode <strong>compare</strong> permet de comparer deux éléments du tableau T</li>
<li>la méthode <strong>equals</strong> permet de dire si deux objets sont égaux</li>
</ul>
<p>Les deux méthodes comparent des types <strong>Object</strong> obj1 et obj2. Dire que obj1&lt;obj2 ou obj1=obj2 ou obj1&gt;obj2 dépend de la relation d'ordre que l'on veut créer entre les deux objets. C'est au développeur qui implémente cette interface d'indiquer comment on sait que :</p>
<ul>
<li>obj1 est plus petit que obj2</li>
<li>obj1 est plus grand que obj2</li>
<li>obj1 est égal à obj2</li>
</ul>
<p>La classe <strong>Object</strong> dont dérive toute classe Java dispose déjà d'une méthode [equals]. Pour trier un tableau T d'objets de type O, la méthode [equals] de la classe O n'est pas utile. On peut donc laisser l'implémentation par défaut apportée par la classe <strong>Object</strong>. Seule la méthode [compare] doit être alors implémentée. Cette méthode est appelée de façon répétée par la méthode [<strong>Arrays.sort</strong>]. Celle-ci va à chaque fois passer comme paramètres <strong>obj1</strong> et <strong>obj2</strong> de la méthode <strong>compare</strong>, deux éléments du tableau <strong>T</strong> à trier. Dans notre cas, ces éléments seront de type [ListeElectorale]. On notera ici le polymorphisme à l'oeuvre. La méthode [compare] est définie comme recevant des paramètres de type [Object]. Cela veut dire qu'elle peut recevoir des paramètres de type [Object] ou dérivé (polymorphisme). Comme [Object] est la classe parent de toutes les classes Java, les paramètres effectifs peuvent avoir le type [ListeElectorale].</p>
<p>Pour un tri dans l'ordre croissant, la méthode [compare] doit rendre :</p>
<ul>
<li>-1 si obj1 est plus petit que obj2</li>
<li>+1 si obj1 est plus grand que obj2</li>
<li>0 si obj1 est égal à obj2</li>
</ul>
<p>Pour un tri dans l'ordre décroissant, les valeurs +1 et -1 sont inversées. Les termes "est plus petit que", "est plus grand que", "est égal à" expriment une relation d'ordre. Pour des objets de type [ListeElectorale], on aura la relation <strong>liste1</strong> "est plus petit que"  <strong>liste2</strong> si <strong>liste1</strong> a moins de voix que <strong>liste2</strong>.</p>
<p>Dans le même fichier source que la classe [MainElections], on pourra ajouter une deuxième classe :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span>
<span class="normal"><a href="#__codelineno-20-11">11</a></span>
<span class="normal"><a href="#__codelineno-20-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a>// classe de comparaison de listes électorales
<a id="__codelineno-20-2" name="__codelineno-20-2"></a>class CompareListesElectorales implements Comparator {
<a id="__codelineno-20-3" name="__codelineno-20-3"></a>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a>    // comparaison de deux listes électorales selon le nombre de voix
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>    public int compare(Object obj1, Object obj2) {
<a id="__codelineno-20-6" name="__codelineno-20-6"></a>        // on récupère les listes électorales
<a id="__codelineno-20-7" name="__codelineno-20-7"></a>        ListeElectorale listeElectorale1 = (ListeElectorale) obj1;
<a id="__codelineno-20-8" name="__codelineno-20-8"></a>        ListeElectorale listeElectorale2 = (ListeElectorale) obj2;
<a id="__codelineno-20-9" name="__codelineno-20-9"></a>        // on compare les voix de ces deux listes
<a id="__codelineno-20-10" name="__codelineno-20-10"></a>....        
<a id="__codelineno-20-11" name="__codelineno-20-11"></a>    }
<a id="__codelineno-20-12" name="__codelineno-20-12"></a>}
</code></pre></div></td></tr></table></div>
<ul>
<li>ligne 2 : la classe n'est pas déclarée <strong>publique</strong>. Dans un fichier source Java, il peut y avoir plusieurs classes mais une seule peut avoir l'attribut <strong>public</strong>, celle qui porte le nom du fichier source.</li>
</ul>
<p>Dans la méthode compare précédente, les paramètres sont de type Object, ce qui oblige lignes 7 et 8, à faire un transtypage des paramètres de la méthode, du type Object vers le type ListeElectorale. La signature de la méthode compare est imposée par l'interface Comparator qui a été écrite pour comparer des objets quelconques. Depuis le JDK 1.5, il existe une interface Comparator générique : Comparator&lt;T&gt; où T est un type Java quelconque. La méthode compare de l'interface Comparator&lt;T&gt; compare des objets de type T et non de type Object ce qui évite les transtypages précédents. La classe de comparaison des objets de type ListeElectorale pourrait ressembler à ceci :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span>
<span class="normal"><a href="#__codelineno-21-5">5</a></span>
<span class="normal"><a href="#__codelineno-21-6">6</a></span>
<span class="normal"><a href="#__codelineno-21-7">7</a></span>
<span class="normal"><a href="#__codelineno-21-8">8</a></span>
<span class="normal"><a href="#__codelineno-21-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a>// classe de comparaison de listes électorales
<a id="__codelineno-21-2" name="__codelineno-21-2"></a>class CompareListesElectorales implements Comparator&lt;ListeElectorale&gt; {
<a id="__codelineno-21-3" name="__codelineno-21-3"></a>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>    // comparaison de deux listes électorales selon le nombre de sièges
<a id="__codelineno-21-5" name="__codelineno-21-5"></a>    public int compare(ListeElectorale listeElectorale1,
<a id="__codelineno-21-6" name="__codelineno-21-6"></a>            ListeElectorale listeElectorale2) {
<a id="__codelineno-21-7" name="__codelineno-21-7"></a>...
<a id="__codelineno-21-8" name="__codelineno-21-8"></a>    }
<a id="__codelineno-21-9" name="__codelineno-21-9"></a>}
</code></pre></div></td></tr></table></div>
<ul>
<li>ligne 2 : la classe implémente l'interface Comparator&lt;ListeElectorale&gt;</li>
<li>lignes 5-6 : les paramètres de la méthode compare sont de type ListeElectorale. Le transtypage est désormais inutile.</li>
</ul>
<p>Le JDK 1.5 a introduit le concept de classe / interface générique pour diverses classes / interfaces du JDK 1.4 qui manipulaient initialement uniquement des objets de type Object. C'est le cas des listes, dictionnaires, ...</p>
<p>Nous avons dit un peu plus haut que, parce qu'on ne connaissait pas le nombre de listes, on ne pouvait mémoriser celles-ci dans un tableau. Elles peuvent être mémorisées dans un objet ArrayList qui implémente la notion de "liste d'objets". Cette classe mémorise des objets de type Object. Depuis le JDK 1.5, il existe des listes d'objets typés. Ainsi on utilisera un objet ArrayList&lt;ListeElectorale&gt; pour mémoriser les listes avant de les transférer dans un tableau. Si ce dernier s'appelle tListes, son tri sera obtenu par l'instruction :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a>// tri des listes
<a id="__codelineno-22-2" name="__codelineno-22-2"></a>Arrays.sort(tListes, new CompareListesElectorales());
</code></pre></div></td></tr></table></div>
<p>où CompareListesElectorales est la classe implémentant l'interface Comparator&lt;ListeElectorale&gt;.</p>
<p><strong>Travail à faire</strong> : réécrivez l'application [Elections] en tenant compte de ces nouvelles spécifications.</p>
<p>Le projet Eclipse pourrait être le suivant :</p>
<table class="odt-table" style="border-collapse: collapse; width: 100%; margin-bottom: 1em;"><tr><td style="border: 1px solid #ddd; padding: 8px; vertical-align: top;"><img src="images/10000000000002840000023FCAF6ECB5.png" style="display:inline-block; margin:4px;width:5.96cm;height:5.33cm;" /></td></tr></table>

<p>Un exemple d'exécution de [1] est le suivant :</p>
<p><img src="images/100000000000011F000001C0A7BC39DD.png" style="width:5.309cm;height:8.301cm;" alt="Image" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner">

      <div>
        <a href="https://tahe.developpez.com" target="_blank">
          https://tahe.developpez.com
        </a>
        <br>
        Ce cours tutoriel écrit par <strong>Serge Tahé</strong> est mis à disposition du public selon les termes de la
        <em>Licence Creative Commons Attribution – Pas d’Utilisation Commerciale –
        Partage dans les Mêmes Conditions 3.0 non transposé</em>.
      </div>

    </div>
  </div>

      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": ["navigation.sections", "navigation.indexes", "navigation.expand", "toc.integrate", "navigation.top"], "search": "assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="javascripts/focus.js"></script>
      
    
  </body>
</html>